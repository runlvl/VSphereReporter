{% extends "base.html" %}

{% block title %}Bericht erstellen - VMware vSphere Reporter{% endblock %}

{% block content %}
<h1 class="my-4">Bericht erstellen</h1>

<div class="card mb-4">
    <div class="card-header">Berichtsoptionen auswählen</div>
    <div class="card-body">
        <form action="{{ url_for('generate_report') }}" method="post">
            <div class="mb-4">
                <h5>Berichtsbereiche</h5>
                <p class="text-muted">Wählen Sie die Abschnitte aus, die in Ihrem Bericht enthalten sein sollen.</p>
                
                <div class="options-container">
                    <div class="option-card">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="option_vmware_tools" name="vmware_tools" checked>
                            <label class="form-check-label option-title" for="option_vmware_tools">VMware Tools Status</label>
                        </div>
                        <p class="option-description">Analysiert den Status und die Version der installierten VMware Tools auf allen VMs.</p>
                    </div>
                    
                    <div class="option-card">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="option_snapshots" name="snapshots" checked>
                            <label class="form-check-label option-title" for="option_snapshots">VM-Snapshots</label>
                        </div>
                        <p class="option-description">Listet alle aktiven Snapshots mit Alter, Größe und Beschreibung auf.</p>
                    </div>
                    
                    <div class="option-card">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="option_orphaned_vmdks" name="orphaned_vmdks" checked>
                            <label class="form-check-label option-title" for="option_orphaned_vmdks">Verwaiste VMDKs</label>
                        </div>
                        <p class="option-description">Identifiziert VMDK-Dateien, die keiner VM zugeordnet sind.</p>
                    </div>
                    
                    <div class="option-card">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="option_vm_hardware" name="vm_hardware">
                            <label class="form-check-label option-title" for="option_vm_hardware">VM-Hardware</label>
                        </div>
                        <p class="option-description">Detaillierte Hardware-Informationen zu allen virtuellen Maschinen.</p>
                    </div>
                    
                    <div class="option-card">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="option_datastores" name="datastores">
                            <label class="form-check-label option-title" for="option_datastores">Datastores</label>
                        </div>
                        <p class="option-description">Kapazitäts- und Nutzungsinformationen für alle Datastores.</p>
                    </div>
                    
                    <div class="option-card">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="option_hosts" name="hosts">
                            <label class="form-check-label option-title" for="option_hosts">ESXi-Hosts</label>
                        </div>
                        <p class="option-description">Detaillierte Informationen zu allen ESXi-Hosts in der Umgebung.</p>
                    </div>
                    
                    <div class="option-card">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="option_clusters" name="clusters">
                            <label class="form-check-label option-title" for="option_clusters">Cluster</label>
                        </div>
                        <p class="option-description">Informationen zu Cluster-Konfiguration und -Ressourcen.</p>
                    </div>
                </div>
                
                <div class="d-flex mt-3">
                    <button type="button" id="select-all-options" class="btn btn-outline-primary btn-sm me-2">Alle auswählen</button>
                    <button type="button" id="deselect-all-options" class="btn btn-outline-secondary btn-sm">Alle abwählen</button>
                </div>
            </div>
            
            <div class="mb-4">
                <h5>Exportformate</h5>
                <p class="text-muted">Wählen Sie die gewünschten Exportformate.</p>
                
                <div class="d-flex flex-wrap gap-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="format_html" name="html" checked>
                        <label class="form-check-label" for="format_html">
                            <strong>HTML</strong> - Interaktiver Bericht im Webbrowser
                        </label>
                    </div>
                    
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="format_pdf" name="pdf">
                        <label class="form-check-label" for="format_pdf">
                            <strong>PDF</strong> - Portables Dokumentenformat
                        </label>
                    </div>
                    
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="format_docx" name="docx">
                        <label class="form-check-label" for="format_docx">
                            <strong>DOCX</strong> - Microsoft Word-Dokument
                        </label>
                    </div>
                </div>
            </div>
            
            <button type="submit" class="btn btn-primary">Bericht generieren</button>
        </form>
    </div>
</div>

<div class="card">
    <div class="card-header">Hinweise zur Berichtserstellung</div>
    <div class="card-body">
        <p>Die Berichtsgenerierung analysiert Ihre vSphere-Umgebung und sammelt Daten basierend auf den gewählten Optionen. Dies kann bei größeren Umgebungen einige Zeit in Anspruch nehmen.</p>
        
        <ul>
            <li>Die <strong>HTML-Version</strong> bietet eine interaktive Darstellung mit Suchfunktion und Sortieroptionen.</li>
            <li>Die <strong>PDF-Version</strong> eignet sich gut für das Drucken und Archivieren.</li>
            <li>Die <strong>DOCX-Version</strong> kann in Microsoft Word bearbeitet und angepasst werden.</li>
        </ul>
        
        <p>Obligatorische Berichtsabschnitte sind standardmäßig ausgewählt:</p>
        <ul>
            <li><strong>VMware Tools Status</strong>: Wichtig für die Sicherstellung optimaler VM-Performance.</li>
            <li><strong>VM-Snapshots</strong>: Hilft bei der Identifizierung alter Snapshots, die entfernt werden sollten.</li>
            <li><strong>Verwaiste VMDKs</strong>: Identifiziert potenziell unnötige Dateien, die Speicherplatz belegen.</li>
        </ul>
    </div>
</div>
{% endblock %}